{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<h3 id=\\\"YearSummary\\\">サマリー</h3><table id=\\\"summaryTable\\\"><tr><th>収入合計</th><td>¥ </td></tr><tr><th>支出合計</th><td>¥ </td></tr><tr><th>年間収支</th><td>¥ </td></tr><tr><th>利益率</th><td>¥ </td></tr></table><h3 id=\\\"YearTableIn\\\">年間収入内訳</h3>\", 3);\nconst _hoisted_4 = {\n  key: 0,\n  id: \"inYearTable\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"non\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"計\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"incomeAll\"\n};\nconst _hoisted_8 = {\n  class: \"incomeAll\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, $data.inYearDataObj ? (_openBlock(), _createElementBlock(\"table\", _hoisted_4, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_5, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"th\", null, _toDisplayString(mm) + \"月\", 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _hoisted_6])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.incomeCategories, iCategory => {\n    return _openBlock(), _createElementBlock(\"tr\", null, [_createElementVNode(\"th\", null, _toDisplayString(iCategory), 1 /* TEXT */), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n      return _createElementVNode(\"td\", _hoisted_7, _toDisplayString($data.inYearDataObj[mm][iCategory]), 1 /* TEXT */);\n    }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"td\", _hoisted_8, _toDisplayString($data.inYearTotalObj[iCategory]), 1 /* TEXT */)]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["id","_createElementVNode","class","scope","_hoisted_1","$data","inYearDataObj","_createElementBlock","_hoisted_4","_hoisted_5","_Fragment","_renderList","mm","_toDisplayString","_hoisted_6","incomeCategories","iCategory","_hoisted_7","_hoisted_8","inYearTotalObj"],"sources":["/app/src/components/YearTable.vue"],"sourcesContent":["<template>\n    <h3 id=\"YearSummary\">サマリー</h3>\n    <table id=\"summaryTable\">\n        <tr><th>収入合計</th><td>¥ </td></tr>\n        <tr><th>支出合計</th><td>¥ </td></tr>\n        <tr><th>年間収支</th><td>¥ </td></tr>\n        <tr><th>利益率</th><td>¥ </td></tr>\n    </table>\n\n    <h3 id=\"YearTableIn\">年間収入内訳</h3>\n    <table id=\"inYearTable\" v-if=\"inYearDataObj\">\n    <thead>\n        <tr>\n            <td class=\"non\"></td>\n            <th v-for=\"mm in 12\">{{ mm }}月</th>\n            <th scope=\"col\">計</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr v-for=\"iCategory in incomeCategories\">\n            <th>{{ iCategory }}</th>\n            <td v-for=\"mm in 12\" class=\"incomeAll\">{{ inYearDataObj[mm][iCategory] }}</td>\n            <td class=\"incomeAll\">{{ inYearTotalObj[iCategory] }}</td>\n        </tr>\n    </tbody>\n    </table>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { Chart, registerables } from 'chart.js'; \nChart.register(...registerables);\nexport default {\n    name: 'YearTable',\n    data () {\n        return {\n            YearDatas: [],\n            incomeCategories: [],\n            expenceCategories: [],\n            inYearDataObj: this.initializeData(\"in\"),\n            outYearDataObj: this.initializeData(\"out\"),\n            inYearTotalObj:{},\n            outYearTotalObj:{},\n        }\n    },\n    methods: {\n        initializeData: function(strFlag) {\n            let data = {};\n            let CategoryList = [];\n            if (strFlag == \"in\"){\n                CategoryList = [\"給与\", \"投資収入\",\"その他\"];\n            } else if (strFlag == \"out\"){\n                CategoryList = [\"食費\",\"酒代\",\"日用品\",\"交際費\",\"交通費\",\"美容費\",\"衣服費\",\"医療費\",\"書籍\",\"サブスク\",\"家賃\",\"水道光熱費\",\"通信費\",\"税金\",\"家具・家電\",\"サウナ・銭湯\",\"車代\",\"旅行\",\"その他\"];\n            }\n            for (let i = 1; i <= 12; i++) {\n                data[i] = {};\n                for (let category of CategoryList) {\n                    data[i][category] = 0;\n                }\n            }\n            return data;\n        },\n        setCategories: function(incomeCategories,expenceCategories){\n            this.incomeCategories = incomeCategories;\n            this.expenceCategories = expenceCategories;\n        },\n        getYearDatas: async function(yyyy) {\n            try {\n                const result = await axios.get(\"/oeconomica/Yeardatas\",{\n                    params: {\n                        year: yyyy\n                    }\n                });\n                this.inYearDataObj = makeYearDatas(result.data,this.incomeCategories,\"収入\");\n                this.inYearTotalObj = calcYearTotal(this.inYearDataObj,this.incomeCategories);\n                this.outYearDataObj = makeYearDatas(result.data,this.expenceCategories,\"支出\");\n                console.log(this.inYearDataObj);\n            } catch (err) {\n                console.log(\"error catch\");\n                console.log(err);\n                alert(JSON.stringify(err));\n            }\n        },\n        \n        \n    },\n}\n\n</script>"],"mappings":";;;;EAUWA,EAAE,EAAC;;gCAGFC,mBAAA,CAAqB;EAAjBC,KAAK,EAAC;AAAK;gCAEfD,mBAAA,CAAsB;EAAlBE,KAAK,EAAC;AAAK,GAAC,GAAC;;EAMID,KAAK,EAAC;AAAW;;EAClCA,KAAK,EAAC;AAAW;;6DArB7BE,UAA8B,EASAC,KAAA,CAAAC,aAAa,I,cAA3CC,mBAAA,CAeQ,SAfRC,UAeQ,GAdRP,mBAAA,CAMQ,gBALJA,mBAAA,CAIK,aAHDQ,UAAqB,G,cACrBF,mBAAA,CAAmCG,SAAA,QAAAC,WAAA,CAAlB,EAAE,EAARC,EAAE;WAAbX,mBAAA,CAAmC,YAAAY,gBAAA,CAAXD,EAAE,IAAG,GAAC;kCAC9BE,UAAsB,C,KAG9Bb,mBAAA,CAMQ,iB,kBALJM,mBAAA,CAIKG,SAAA,QAAAC,WAAA,CAJmBN,KAAA,CAAAU,gBAAgB,EAA7BC,SAAS;yBAApBT,mBAAA,CAIK,aAHDN,mBAAA,CAAwB,YAAAY,gBAAA,CAAjBG,SAAS,mB,cAChBT,mBAAA,CAA8EG,SAAA,QAAAC,WAAA,CAA7D,EAAE,EAARC,EAAE;aAAbX,mBAAA,CAA8E,MAA9EgB,UAA8E,EAAAJ,gBAAA,CAApCR,KAAA,CAAAC,aAAa,CAACM,EAAE,EAAEI,SAAS;oCACrEf,mBAAA,CAA0D,MAA1DiB,UAA0D,EAAAL,gBAAA,CAAjCR,KAAA,CAAAc,cAAc,CAACH,SAAS,kB"},"metadata":{},"sourceType":"module","externalDependencies":[]}