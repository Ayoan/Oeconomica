{"ast":null,"code":"import axios from \"axios\";\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\nexport default {\n  name: 'Option',\n  data() {\n    return {\n      expenceCategories: [\"食費\", \"酒代\", \"日用品\", \"交際費\", \"交通費\", \"美容費\", \"衣服費\", \"医療費\", \"書籍\", \"サブスク\", \"家賃\", \"水道光熱費\", \"通信費\", \"税金\", \"家具・家電\", \"サウナ・銭湯\", \"車代\", \"旅行\", \"その他\"]\n    };\n  },\n  methods: {\n    getSubscriptions: async function (yyyy) {\n      try {\n        const result = await axios.get(\"/oeconomica/Yeardatas\", {\n          params: {\n            year: yyyy\n          }\n        });\n        // カテゴリ別の月間収支を算出\n        this.inYearDataObj = makeYearDatas(result.data, this.incomeCategories, \"収入\");\n        this.inYearTotalObj = calcYearTotal(this.inYearDataObj, this.incomeCategories);\n        this.outYearDataObj = makeYearDatas(result.data, this.expenceCategories, \"支出\");\n        this.outYearTotalObj = calcYearTotal(this.outYearDataObj, this.expenceCategories);\n        // 年間の収支合計\n        this.yearProfit = Number(replaceAmount(this.inYearTotalObj['total'])) - Number(replaceAmount(this.outYearTotalObj['total']));\n        // 利益率\n        this.profitRate = calcProfitRate(this.yearProfit, this.inYearTotalObj['total']);\n        this.yearProfit = csAmount(this.yearProfit);\n        // 支出率\n        this.outRateObj = calcOutRate(this.inYearDataObj, this.outYearDataObj);\n      } catch (err) {\n        console.log(err);\n        alert(JSON.stringify(err));\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Chart","registerables","register","name","data","expenceCategories","methods","getSubscriptions","yyyy","result","get","params","year","inYearDataObj","makeYearDatas","incomeCategories","inYearTotalObj","calcYearTotal","outYearDataObj","outYearTotalObj","yearProfit","Number","replaceAmount","profitRate","calcProfitRate","csAmount","outRateObj","calcOutRate","err","console","log","alert","JSON","stringify"],"sources":["/app/src/components/Option.vue"],"sourcesContent":["<template>\n    <h3 id=\"YearSummary\">サブスク</h3>\n    <table class=\"subscriptionTable\">\n        <tr>\n            <th>支払日</th>\n            <th>カテゴリ</th>\n            <th>サービス名</th>\n            <th>金額</th>\n            <th style=\"display:none;background:#EEEEEE\">dummy</th>\n        </tr>\n        <tr id=\"inputRow\">\n            <td>\n                毎月\n                <select name=\"daySelect\" id=\"daySelect\">\n                    <option value=\"\"></option>\n                    <option v-for=\"mm in 31\">{{ mm }}</option>\n                </select>\n                日</td>\n            <td>\n                <select v-model=\"category\">\n                    <option>-選択してください-</option>                            \n                    <option v-for=\"(cg, index) in expenceCategories\" :key=\"index\" v-bind:value=\"cg\">{{ cg }}</option>\n                </select>\n            </td>\n            <td><input type=\"text\"/></td>\n            <td><input type=\"text\"/>円</td>\n            <td>\n                <button class=\"add-button\">+</button> <!-- The + button -->\n            </td>\n            <td style=\"display: none;\">dummy</td>\n        </tr>\n    </table>\n\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { Chart, registerables } from 'chart.js'; \nChart.register(...registerables);\nexport default {\n    name: 'Option',\n    data () {   \n        return {\n            expenceCategories: [\"食費\",\"酒代\",\"日用品\",\"交際費\",\"交通費\",\"美容費\",\"衣服費\",\"医療費\",\"書籍\",\"サブスク\",\"家賃\",\"水道光熱費\",\"通信費\",\"税金\",\"家具・家電\",\"サウナ・銭湯\",\"車代\",\"旅行\",\"その他\"],\n        }\n    },\n    methods: {\n        getSubscriptions: async function(yyyy) {\n            try {\n                const result = await axios.get(\"/oeconomica/Yeardatas\",{\n                    params: {\n                        year: yyyy\n                    }\n                });\n                // カテゴリ別の月間収支を算出\n                this.inYearDataObj = makeYearDatas(result.data,this.incomeCategories,\"収入\");\n                this.inYearTotalObj = calcYearTotal(this.inYearDataObj,this.incomeCategories);\n                this.outYearDataObj = makeYearDatas(result.data,this.expenceCategories,\"支出\");\n                this.outYearTotalObj = calcYearTotal(this.outYearDataObj,this.expenceCategories);\n                // 年間の収支合計\n                this.yearProfit = Number(replaceAmount(this.inYearTotalObj['total'])) - Number(replaceAmount(this.outYearTotalObj['total']));\n                // 利益率\n                this.profitRate = calcProfitRate(this.yearProfit,this.inYearTotalObj['total']);\n                this.yearProfit = csAmount(this.yearProfit);\n                // 支出率\n                this.outRateObj = calcOutRate(this.inYearDataObj,this.outYearDataObj);\n            } catch (err) {\n                console.log(err);\n                alert(JSON.stringify(err));\n            }\n        },\n        \n        \n    },\n}\n\n</script>"],"mappings":"AAqCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,KAAK,EAAEC,aAAY,QAAS,UAAU;AAC/CD,KAAK,CAACE,QAAQ,CAAC,GAAGD,aAAa,CAAC;AAChC,eAAe;EACXE,IAAI,EAAE,QAAQ;EACdC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,iBAAiB,EAAE,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,IAAI,EAAC,OAAO,EAAC,QAAQ,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK;IAC1I;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,gBAAgB,EAAE,eAAAA,CAAeC,IAAI,EAAE;MACnC,IAAI;QACA,MAAMC,MAAK,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,uBAAuB,EAAC;UACnDC,MAAM,EAAE;YACJC,IAAI,EAAEJ;UACV;QACJ,CAAC,CAAC;QACF;QACA,IAAI,CAACK,aAAY,GAAIC,aAAa,CAACL,MAAM,CAACL,IAAI,EAAC,IAAI,CAACW,gBAAgB,EAAC,IAAI,CAAC;QAC1E,IAAI,CAACC,cAAa,GAAIC,aAAa,CAAC,IAAI,CAACJ,aAAa,EAAC,IAAI,CAACE,gBAAgB,CAAC;QAC7E,IAAI,CAACG,cAAa,GAAIJ,aAAa,CAACL,MAAM,CAACL,IAAI,EAAC,IAAI,CAACC,iBAAiB,EAAC,IAAI,CAAC;QAC5E,IAAI,CAACc,eAAc,GAAIF,aAAa,CAAC,IAAI,CAACC,cAAc,EAAC,IAAI,CAACb,iBAAiB,CAAC;QAChF;QACA,IAAI,CAACe,UAAS,GAAIC,MAAM,CAACC,aAAa,CAAC,IAAI,CAACN,cAAc,CAAC,OAAO,CAAC,CAAC,IAAIK,MAAM,CAACC,aAAa,CAAC,IAAI,CAACH,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC;QAC5H;QACA,IAAI,CAACI,UAAS,GAAIC,cAAc,CAAC,IAAI,CAACJ,UAAU,EAAC,IAAI,CAACJ,cAAc,CAAC,OAAO,CAAC,CAAC;QAC9E,IAAI,CAACI,UAAS,GAAIK,QAAQ,CAAC,IAAI,CAACL,UAAU,CAAC;QAC3C;QACA,IAAI,CAACM,UAAS,GAAIC,WAAW,CAAC,IAAI,CAACd,aAAa,EAAC,IAAI,CAACK,cAAc,CAAC;MACzE,EAAE,OAAOU,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBG,KAAK,CAACC,IAAI,CAACC,SAAS,CAACL,GAAG,CAAC,CAAC;MAC9B;IACJ;EAGJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}