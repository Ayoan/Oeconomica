{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  id: \"YearSummary\"\n}, \"サマリー\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"balanceTable\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"th\", null, \"収入合計\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"inTotal\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"th\", null, \"支出合計\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"outTotal\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"th\", null, \"年間収支\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  id: \"td-profit\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"th\", null, \"利益率\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  id: \"td-profit\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"収入内訳\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  key: 0,\n  id: \"YearTable\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"non\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"計\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"incomeAll\"\n};\nconst _hoisted_16 = {\n  class: \"YearTotal\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"th\", null, \"合計\", -1 /* HOISTED */);\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"支出内訳\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  key: 1,\n  id: \"YearTable\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"non\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"計\", -1 /* HOISTED */);\nconst _hoisted_22 = {\n  class: \"outcomeAll\"\n};\nconst _hoisted_23 = {\n  class: \"outcomeAll\"\n};\nconst _hoisted_24 = {\n  class: \"YearTotal\"\n};\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"th\", null, \"合計\", -1 /* HOISTED */);\nconst _hoisted_26 = {\n  id: \"YearTable\"\n};\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"non\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"th\", null, \"支出率\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"tr\", null, [_hoisted_3, _createElementVNode(\"td\", _hoisted_4, \"¥ \" + _toDisplayString($data.inYearTotalObj['total']), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_5, _createElementVNode(\"td\", _hoisted_6, \"¥ \" + _toDisplayString($data.outYearTotalObj['total']), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_7, _createElementVNode(\"td\", _hoisted_8, \"¥ \" + _toDisplayString($data.yearProfit), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", _hoisted_10, _toDisplayString($data.profitRate) + \"%\", 1 /* TEXT */)])]), _hoisted_11, $data.inYearDataObj ? (_openBlock(), _createElementBlock(\"table\", _hoisted_12, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_13, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"th\", null, _toDisplayString(mm) + \"月\", 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _hoisted_14])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.incomeCategories, iCategory => {\n    return _openBlock(), _createElementBlock(\"tr\", null, [_createElementVNode(\"th\", null, _toDisplayString(iCategory), 1 /* TEXT */), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n      return _createElementVNode(\"td\", _hoisted_15, _toDisplayString($data.inYearDataObj[mm][iCategory]), 1 /* TEXT */);\n    }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"td\", null, _toDisplayString($data.inYearTotalObj[iCategory]), 1 /* TEXT */)]);\n  }), 256 /* UNKEYED_FRAGMENT */)), _createElementVNode(\"tr\", _hoisted_16, [_hoisted_17, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"td\", null, _toDisplayString($data.inYearDataObj[mm]['total']), 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"td\", null, _toDisplayString($data.inYearTotalObj['total']), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _hoisted_18, $data.outYearDataObj ? (_openBlock(), _createElementBlock(\"table\", _hoisted_19, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_20, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"th\", null, _toDisplayString(mm) + \"月\", 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _hoisted_21])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.expenceCategories, eCategory => {\n    return _openBlock(), _createElementBlock(\"tr\", null, [_createElementVNode(\"th\", null, _toDisplayString(eCategory), 1 /* TEXT */), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n      return _createElementVNode(\"td\", _hoisted_22, _toDisplayString($data.outYearDataObj[mm][eCategory]), 1 /* TEXT */);\n    }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"td\", _hoisted_23, _toDisplayString($data.outYearTotalObj[eCategory]), 1 /* TEXT */)]);\n  }), 256 /* UNKEYED_FRAGMENT */)), _createElementVNode(\"tr\", _hoisted_24, [_hoisted_25, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"td\", null, _toDisplayString($data.outYearDataObj[mm]['total']), 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"td\", null, _toDisplayString($data.outYearTotalObj['total']), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"table\", _hoisted_26, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_27, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"th\", null, _toDisplayString(mm) + \"月\", 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_28, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(12, mm => {\n    return _createElementVNode(\"td\");\n  }), 64 /* STABLE_FRAGMENT */))])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","id","class","scope","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","inYearTotalObj","_hoisted_5","_hoisted_6","outYearTotalObj","_hoisted_7","_hoisted_8","yearProfit","_hoisted_9","_hoisted_10","profitRate","_hoisted_11","inYearDataObj","_createElementBlock","_hoisted_12","_hoisted_13","_Fragment","_renderList","mm","_hoisted_14","incomeCategories","iCategory","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","outYearDataObj","_hoisted_19","_hoisted_20","_hoisted_21","expenceCategories","eCategory","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28"],"sources":["/app/src/components/YearTable.vue"],"sourcesContent":["<template>\n    <h3 id=\"YearSummary\">サマリー</h3>\n    <table class=\"balanceTable\">\n        <tr><th>収入合計</th><td class=\"inTotal\">¥ {{ inYearTotalObj['total'] }}</td></tr>\n        <tr><th>支出合計</th><td class=\"outTotal\">¥ {{ outYearTotalObj['total'] }}</td></tr>\n        <tr><th>年間収支</th><td id=\"td-profit\">¥ {{ yearProfit }}</td></tr>\n        <tr><th>利益率</th><td id=\"td-profit\">{{ profitRate }}%</td></tr>\n    </table>\n\n    <h3>収入内訳</h3>\n    <table id=\"YearTable\" v-if=\"inYearDataObj\">\n    <thead>\n        <tr>\n            <td class=\"non\"></td>\n            <th v-for=\"mm in 12\">{{ mm }}月</th>\n            <th scope=\"col\">計</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr v-for=\"iCategory in incomeCategories\">\n            <th>{{ iCategory }}</th>\n            <td v-for=\"mm in 12\" class=\"incomeAll\">{{ inYearDataObj[mm][iCategory] }}</td>\n            <td>{{ inYearTotalObj[iCategory] }}</td>\n        </tr>\n        <tr class=\"YearTotal\">\n            <th>合計</th>\n            <td v-for=\"mm in 12\">{{ inYearDataObj[mm]['total'] }}</td>\n            <td>{{ inYearTotalObj['total'] }}</td>\n        </tr>\n    </tbody>\n    </table>\n\n    <h3>支出内訳</h3>\n    <table id=\"YearTable\" v-if=\"outYearDataObj\">\n    <thead>\n        <tr>\n            <td class=\"non\"></td>\n            <th v-for=\"mm in 12\">{{ mm }}月</th>\n            <th scope=\"col\">計</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr v-for=\"eCategory in expenceCategories\">\n            <th>{{ eCategory }}</th>\n            <td v-for=\"mm in 12\" class=\"outcomeAll\">{{ outYearDataObj[mm][eCategory] }}</td>\n            <td class=\"outcomeAll\">{{ outYearTotalObj[eCategory] }}</td>\n        </tr>\n        <tr class=\"YearTotal\">\n            <th>合計</th>\n            <td v-for=\"mm in 12\">{{ outYearDataObj[mm]['total'] }}</td>\n            <td>{{ outYearTotalObj['total'] }}</td>\n        </tr>\n    </tbody>\n    </table>\n    <table id=\"YearTable\">\n        <thead>\n            <tr>\n                <td class=\"non\"></td>\n                <th v-for=\"mm in 12\">{{ mm }}月</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <th>支出率</th>\n                <td v-for=\"mm in 12\"></td>\n            </tr>\n        </tbody>\n    </table>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { Chart, registerables } from 'chart.js'; \nChart.register(...registerables);\nexport default {\n    name: 'YearTable',\n    data () {   \n        return {\n            YearDatas: [],\n            incomeCategories: [],\n            expenceCategories: [],\n            inYearDataObj: this.initializeData(\"in\"),\n            outYearDataObj: this.initializeData(\"out\"),\n            inYearTotalObj:{},\n            outYearTotalObj:{},\n            yearProfit: 0,\n            profitRate: 0,\n        }\n    },\n    methods: {\n        initializeData: function(strFlag) {\n            let data = {};\n            let CategoryList = [];\n            if (strFlag == \"in\"){\n                CategoryList = [\"給与\", \"投資収入\",\"その他\"];\n            } else if (strFlag == \"out\"){\n                CategoryList = [\"食費\",\"酒代\",\"日用品\",\"交際費\",\"交通費\",\"美容費\",\"衣服費\",\"医療費\",\"書籍\",\"サブスク\",\"家賃\",\"水道光熱費\",\"通信費\",\"税金\",\"家具・家電\",\"サウナ・銭湯\",\"車代\",\"旅行\",\"その他\"];\n            }\n            for (let i = 1; i <= 12; i++) {\n                data[i] = {};\n                for (let category of CategoryList) {\n                    data[i][category] = 0;\n                }\n            }\n            return data;\n        },\n        setCategories: function(incomeCategories,expenceCategories){\n            this.incomeCategories = incomeCategories;\n            this.expenceCategories = expenceCategories;\n        },\n        getYearDatas: async function(yyyy) {\n            try {\n                const result = await axios.get(\"/oeconomica/Yeardatas\",{\n                    params: {\n                        year: yyyy\n                    }\n                });\n                // カテゴリ別の月間収支を算出\n                this.inYearDataObj = makeYearDatas(result.data,this.incomeCategories,\"収入\");\n                this.inYearTotalObj = calcYearTotal(this.inYearDataObj,this.incomeCategories);\n                this.outYearDataObj = makeYearDatas(result.data,this.expenceCategories,\"支出\");\n                this.outYearTotalObj = calcYearTotal(this.outYearDataObj,this.expenceCategories);\n                // 年間の収支合計\n                this.yearProfit = Number(replaceAmount(this.inYearTotalObj['total'])) - Number(replaceAmount(this.outYearTotalObj['total']));\n                // 利益率\n                this.profitRate = Math.round(this.yearProfit / Number(replaceAmount(this.inYearTotalObj['total'])) * 100);\n                this.yearProfit = csAmount(this.yearProfit);\n            } catch (err) {\n                console.log(err);\n                alert(JSON.stringify(err));\n            }\n        },\n        \n        \n    },\n}\n\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}