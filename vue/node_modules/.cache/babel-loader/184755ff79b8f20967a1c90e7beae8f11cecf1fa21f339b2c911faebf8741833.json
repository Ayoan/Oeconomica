{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\nexport default {\n  name: 'Option',\n  data() {\n    return {\n      category: \"-選択してください-\",\n      expenceCategories: [\"食費\", \"酒代\", \"日用品\", \"交際費\", \"交通費\", \"美容費\", \"衣服費\", \"医療費\", \"書籍\", \"サブスク\", \"家賃\", \"水道光熱費\", \"通信費\", \"税金\", \"家具・家電\", \"サウナ・銭湯\", \"車代\", \"旅行\", \"その他\"],\n      subscriptions: [],\n      day: \"\",\n      category: \"\",\n      subscription: \"\",\n      amount: \"\"\n    };\n  },\n  methods: {\n    getSubscriptions: async function () {\n      try {\n        const result = await axios.get(\"/subscription/\");\n        this.subscriptions = result.data;\n        console.log(result);\n      } catch (err) {\n        console.log(err);\n        alert(JSON.stringify(err));\n      }\n    },\n    registSubscription: async function () {\n      try {\n        if (this.day != \"\" && this.category != \"\" && this.subscription != \"\" && this.amount != \"\") {\n          console.log(\"start regist subscription\");\n          const result = await axios.post(\"/subscription/\", {\n            day: this.day,\n            category: this.category,\n            subscription: this.subscription,\n            amount: this.amount\n          });\n          this.subscriptions.push(result.data); //配列の末尾に要素追加\n          this.modifyNewRecord();\n        } else {\n          console.log(this.day);\n          console.log(this.category);\n          console.log(this.subscription);\n          console.log(this.amount);\n        }\n      } catch (err) {\n        alert(JSON.stringify(err));\n      }\n    },\n    modifyNewRecord: function () {\n      // 新規登録したデータの画面表記を修正する\n      var strAmount = csAmount(this.amount); // 金額にカンマをつける\n      // 画面反映\n      this.subscriptions[this.subscriptions.length]['amount'] = strAmount;\n    }\n  }\n};","map":{"version":3,"names":["axios","Chart","registerables","register","name","data","category","expenceCategories","subscriptions","day","subscription","amount","methods","getSubscriptions","result","get","console","log","err","alert","JSON","stringify","registSubscription","post","push","modifyNewRecord","strAmount","csAmount","length"],"sources":["/app/src/components/Option.vue"],"sourcesContent":["<template>\n    <h3 id=\"YearSummary\">サブスク</h3>\n    <table class=\"subscriptionTable\">\n        <tr>\n            <th>支払日</th>\n            <th>カテゴリ</th>\n            <th>サービス名</th>\n            <th>金額</th>\n            <th style=\"display:none;background:#EEEEEE\">dummy</th>\n        </tr>\n        <tr id=\"inputRow\">\n            <td>\n                毎月\n                <select name=\"daySelect\" id=\"daySelect\" v-model=\"day\">\n                    <option value=\"\"></option>\n                    <option v-for=\"mm in 31\">{{ mm }}</option>\n                </select>\n                日</td>\n            <td>\n                <select v-model=\"category\">\n                    <option>-選択してください-</option>                            \n                    <option v-for=\"(cg, index) in expenceCategories\" :key=\"index\" v-bind:value=\"cg\">{{ cg }}</option>\n                </select>\n            </td>\n            <td><input type=\"text\" v-model=\"subscription\"/></td>\n            <td><input type=\"number\" v-model=\"amount\" style=\"width: 40%;\"/>円</td>\n            <td>\n                <button class=\"add-button\" @click=\"registSubscription\">＋</button> <!-- The + button -->\n            </td>\n        </tr>\n        <tr v-for=\"(subscription, index) in subscriptions\" :key=\"subscriptions.id\">\n            <td>毎月 {{ subscription.day }} 日</td>\n            <td>{{ subscription.category }}</td>\n            <td>{{ subscription.subscription }}</td>\n            <td>{{ subscription.amount }} 円</td>\n            <td>\n                <button class=\"del-button\">ー</button> <!-- The + button -->\n            </td>\n        </tr>\n    </table>\n\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { Chart, registerables } from 'chart.js'; \nChart.register(...registerables);\nexport default {\n    name: 'Option',\n    data () {   \n        return {\n            category: \"-選択してください-\" ,\n            expenceCategories: [\"食費\",\"酒代\",\"日用品\",\"交際費\",\"交通費\",\"美容費\",\"衣服費\",\"医療費\",\"書籍\",\"サブスク\",\"家賃\",\"水道光熱費\",\"通信費\",\"税金\",\"家具・家電\",\"サウナ・銭湯\",\"車代\",\"旅行\",\"その他\"],\n            subscriptions: [],\n            day:\"\",\n            category:\"\",\n            subscription:\"\",\n            amount:\"\",\n        }\n    },\n    methods: {\n        getSubscriptions: async function() {\n            try {\n                const result = await axios.get(\"/subscription/\");\n                this.subscriptions = result.data;\n                console.log(result);    \n            } catch (err) {\n                console.log(err);\n                alert(JSON.stringify(err));\n            }\n        },\n        registSubscription: async function () {\n            try {\n                if(this.day != \"\" && this.category != \"\" && this.subscription != \"\" && this.amount != \"\"){\n                    console.log(\"start regist subscription\")\n                    const result = await axios.post(\"/subscription/\", {\n                        day: this.day,\n                        category: this.category,\n                        subscription: this.subscription,\n                        amount: this.amount,\n                    });\n                    this.subscriptions.push(result.data); //配列の末尾に要素追加\n                    this.modifyNewRecord();\n                } else {\n                    console.log(this.day);\n                    console.log(this.category);\n                    console.log(this.subscription);\n                    console.log(this.amount);\n                }\n            } catch (err) {\n                alert(JSON.stringify(err));\n            }\n        },\n        modifyNewRecord: function() {\n            // 新規登録したデータの画面表記を修正する\n            var strAmount = csAmount(this.amount);  // 金額にカンマをつける\n            // 画面反映\n            this.subscriptions[this.subscriptions.length]['amount'] = strAmount;\n        },\n        \n        \n    },\n}\n\n</script>"],"mappings":";AA6CA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,KAAK,EAAEC,aAAY,QAAS,UAAU;AAC/CD,KAAK,CAACE,QAAQ,CAAC,GAAGD,aAAa,CAAC;AAChC,eAAe;EACXE,IAAI,EAAE,QAAQ;EACdC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,QAAQ,EAAE,YAAW;MACrBC,iBAAiB,EAAE,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,IAAI,EAAC,OAAO,EAAC,QAAQ,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK,CAAC;MACvIC,aAAa,EAAE,EAAE;MACjBC,GAAG,EAAC,EAAE;MACNH,QAAQ,EAAC,EAAE;MACXI,YAAY,EAAC,EAAE;MACfC,MAAM,EAAC;IACX;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,gBAAgB,EAAE,eAAAA,CAAA,EAAiB;MAC/B,IAAI;QACA,MAAMC,MAAK,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,gBAAgB,CAAC;QAChD,IAAI,CAACP,aAAY,GAAIM,MAAM,CAACT,IAAI;QAChCW,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;MACvB,EAAE,OAAOI,GAAG,EAAE;QACVF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;QAChBC,KAAK,CAACC,IAAI,CAACC,SAAS,CAACH,GAAG,CAAC,CAAC;MAC9B;IACJ,CAAC;IACDI,kBAAkB,EAAE,eAAAA,CAAA,EAAkB;MAClC,IAAI;QACA,IAAG,IAAI,CAACb,GAAE,IAAK,EAAC,IAAK,IAAI,CAACH,QAAO,IAAK,EAAC,IAAK,IAAI,CAACI,YAAW,IAAK,EAAC,IAAK,IAAI,CAACC,MAAK,IAAK,EAAE,EAAC;UACrFK,OAAO,CAACC,GAAG,CAAC,2BAA2B;UACvC,MAAMH,MAAK,GAAI,MAAMd,KAAK,CAACuB,IAAI,CAAC,gBAAgB,EAAE;YAC9Cd,GAAG,EAAE,IAAI,CAACA,GAAG;YACbH,QAAQ,EAAE,IAAI,CAACA,QAAQ;YACvBI,YAAY,EAAE,IAAI,CAACA,YAAY;YAC/BC,MAAM,EAAE,IAAI,CAACA;UACjB,CAAC,CAAC;UACF,IAAI,CAACH,aAAa,CAACgB,IAAI,CAACV,MAAM,CAACT,IAAI,CAAC,EAAE;UACtC,IAAI,CAACoB,eAAe,EAAE;QAC1B,OAAO;UACHT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,GAAG,CAAC;UACrBO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,QAAQ,CAAC;UAC1BU,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,YAAY,CAAC;UAC9BM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,MAAM,CAAC;QAC5B;MACJ,EAAE,OAAOO,GAAG,EAAE;QACVC,KAAK,CAACC,IAAI,CAACC,SAAS,CAACH,GAAG,CAAC,CAAC;MAC9B;IACJ,CAAC;IACDO,eAAe,EAAE,SAAAA,CAAA,EAAW;MACxB;MACA,IAAIC,SAAQ,GAAIC,QAAQ,CAAC,IAAI,CAAChB,MAAM,CAAC,EAAG;MACxC;MACA,IAAI,CAACH,aAAa,CAAC,IAAI,CAACA,aAAa,CAACoB,MAAM,CAAC,CAAC,QAAQ,IAAIF,SAAS;IACvE;EAGJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}